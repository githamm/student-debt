<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Student Debt Database | The Denver Post</title>
    <meta charset="utf-8">
    <meta name="robots" content="noindex,follow">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Condensed:700|Roboto+Mono" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.16/css/dataTables.foundation.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/foundation/6.2.4/foundation.min.css" />
    <link rel="stylesheet" href="//cdn.datatables.net/responsive/2.2.1/css/responsive.dataTables.min.css" />
    <link rel="stylesheet" href="//cdn.datatables.net/responsive/2.2.1/css/responsive.foundation.min.css" />
    <!-- <link rel="stylesheet" href="jquery.dataTables.yadcf.css" /> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.css" />
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js"></script>
    <script src="//cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
    <script src="//cdn.datatables.net/1.10.16/js/dataTables.foundation.min.js"></script>
    <script src="//cdn.jsdelivr.net/foundation/6.2.4/foundation.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/6.2.4/plugins/foundation.reveal.js"></script>
    <script src="//cdn.datatables.net/plug-ins/1.10.16/dataRender/datetime.js"></script>
    <script src="//cdn.datatables.net/responsive/2.2.1/js/dataTables.responsive.min.js"></script>
    <script src="//cdn.datatables.net/responsive/2.2.1/js/responsive.foundation.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/yadcf/0.9.2/jquery.dataTables.yadcf.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.2/moment.min.js"></script>
    <script src="//cdn.datatables.net/plug-ins/1.10.19/sorting/datetime-moment.js"></script>
    <script src="to-title-case.js"></script>

    <head>
        <style>
            body {
            background-color: #fafafa;
            font-family: 'Roboto', sans-serif;
        }

        /*#main-container {
            width: 900px;
            margin: 0 auto;
        }*/

        .table-title {
            font-size: 2.3rem;
            line-height: 35px;
            font-weight: 700;
        }

        .instructions-text {
            color: #cb181d;
            font-size: .8em;
            font-style: italic;
            text-align: center;
        }

        #filters {
            font-size: .85rem;
        }

        #lockdowns-table-container {
            margin-top: 10px;
            padding: 10px;
        }

        #student-debt-table {
            font-size: .85rem;
            font-family: 'Roboto', sans-serif;
        }

        button.yadcf-filter-reset-button {
            color: #cb181d;
            margin-left: 10px;
        }

        select {
            margin-top: 7px;
            margin-bottom: 0;
            font-size: .85rem;
        }

        .dem {
            background-color: lightblue;
            width: 15px;
            height: 15px;
            margin-left: .5em;
        }

        .rep {
            background-color: red;
            width: 15px;
            height: 15px;
            margin-left: .5em;
        }

        .yadcf-filter-range {
            height: 2.9em;
            border: 1px solid silver;
        }

        .filter-text {
            font-weight: bold;
            margin-top: .5em;
            margin-bottom: .5em;
        }

        p.source {
            font-size: .9rem;
            text-align: right;
            font-style: italic;
        }

        .herd {
            color: red;
        }

        .filter-description {
            font-style: italic;
            display: inline-block;
            line-height: 16px;
        }

        thead {
            line-height: 18px;
            font-size: .85rem;
        }

        .topcorner{
            /*position: relative;
            top: 10px;
            right: 10px;*/
            float: right;
            padding-right: 10px;
        }

        img {
            height: 32px;
            width: 32px;
        }

        .reveal {
            font-family: 'Roboto', sans-serif;
        }

        .modal-title {
            font-size: 1.3rem;
            font-weight: 700;
        }

        .modal-subtitle {
            text-transform: uppercase;
            color: rgba(0, 0, 0, .8);
            margin-bottom: 4px;
        }

        .info-button {
            text-transform: uppercase;
            font-weight: bold;
            padding: 4px;
            line-height: 17px;
        }
        </style>
    </head>

<body>
    <div id="main-container">
        <div class="topcorner"><a data-open="info-modal"><button type="button" class="alert button info-button">Click for<br>information</button></a></div>
        <div id="lockdowns-table-container">
            <div class="row">
                <div class="large-12 columns">
                    <h2 class="table-title">Student Debt Database</h2>
                    <p class="body-text">
                        <p>Chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter and chatter.</p>
                        <p class="instructions-text">Use dropdown menus or keyword search to filter table &bull; click column headers to sort</p>
                </div>
            </div>
            <div id="filters">
                <div class="row">
                    <div class="large-2 medium-2 small-6 columns">
                        <p id="filter-1"><span class="filter-description">Choose district<br>or county</span></p>
                    </div>
                    <div class="large-2 medium-2 small-6 columns">
                        <p id="filter-2"><span class="filter-description">Choose<br>school category</span></p>
                    </div>
                    <div class="large-2 medium-2 small-6 columns">
                        <p id="filter-3"><span class="filter-description">Choose<br>school type</span></p>
                    </div>
                    <div class="large-2 medium-2 small-6 columns">
                        <p id="filter-4"><span class="filter-description">Choose<br>vaccine type</span></p>
                    </div>
                    <div class="large-2 medium-2 small-6 columns end">
                        <p id="filter-5"><span class="filter-description">Choose<br>survey status</span></p>
                    </div>
                </div>
                <!-- <div class="row">
            <div class="large-6 medium-6 small-12 left columns">
                <p class="filter-text">Filter by amount</p>
                <span id="income-filter" style="font-weight: bold;"></span>
            </div>
        </div> -->
            </div>
            <div class="reveal" id="info-modal" data-reveal>
                <h3 class="modal-title">About ...</h3>
                <p>Modal info ....</p>
                <button class="close-button" data-close aria-label="Close modal" type="button">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="row">
                <div class="large-12 columns">
                    <table id="student-debt-table" class="display compact no-wrap" width="100%">
                        <thead>
                            <tr>
                                <th></th>
                                <th class="none">ID</th>
                                <th data-priority="1">Name</th>
                                <th>Type</th>
                                <th>Cipdesc</th>
                                <th>Creddesc</th>
                                <th>Count</th>
                                <th>Debtmedian</th>
                                <th>Ipedscount</th>
                            </tr>
                        </thead>
                    </table>
                </div>
                <p class="source">Source: <a href="https://collegescorecard.ed.gov/data/preliminary/">U.S. Dept. of Education College Scorecard</a></p>
            </div>
        </div>
        <script>
        $(document).ready(function() {
            function disableDependentFilter(level, inuse) {
                if (level < 4) {
                    filter = $('#yadcf-filter-debt' + level);
                    yadcf.exResetFilters(debtTable, [level]);
                    filter.prop('disabled', !inuse);

                    disableDependentFilter(level + 1, false);
                }
            }

            var schoolName = [{ value: 'Adams State University', label: 'Adams State University' }, { value: 'Aims Community College', label: 'Aims Community College' }, { value: 'American Sentinel University', label: 'American Sentinel University' }, { value: 'Arapahoe Community College', label: 'Arapahoe Community College' }, { value: 'Bel - Rea Institute of Animal Technology', label: 'Bel-Rea Institute of Animal Technology' }, { value: 'CollegeAmerica Denver', label: 'CollegeAmerica Denver' }, { value: 'Colorado Academy of Veterinary Technology', label: 'Colorado Academy of Veterinary Technology' }, { value: 'Colorado Christian University', label: 'Colorado Christian University' }, { value: 'Colorado College', label: 'Colorado College' }, { value: 'Colorado Mesa University', label: 'Colorado Mesa University' }, { value: 'Colorado Mountain College', label: 'Colorado Mountain College' }, { value: 'Colorado Northwestern Community College', label: 'Colorado Northwestern Community College' }, { value: 'Colorado School of Healing Arts', label: 'Colorado School of Healing Arts' }, { value: 'Colorado School of Mines', label: 'Colorado School of Mines' }, { value: 'Colorado State University', label: 'Colorado State University' }, { value: 'Colorado State University-Pueblo', label: 'Colorado State University - Pueblo' }, { value: 'Colorado Technical University Colorado Springs', label: 'Colorado Technical University Colorado Springs' }, { value: 'Colorado Technical University Greenwood Village', label: 'Colorado Technical University Greenwood Village' }, { value: 'Colorado Technical University Online', label: 'Colorado Technical University Online' }, { value: 'Community College of Aurora', label: 'Community College of Aurora' }, { value: 'Community College of Denver', label: 'Community College of Denver' }, { value: 'Denver School of Nursing', label: 'Denver School of Nursing' }, { value: 'DeVry University Colorado', label: 'DeVry University Colorado' }, { value: 'Ecotech Institute', label: 'Ecotech Institute' }, { value: 'Fort Lewis College', label: 'Fort Lewis College' }, { value: 'Front Range Community College', label: 'Front Range Community College' }, { value: 'Institute of Business and Medical Careers', label: 'Institute of Business and Medical Careers' }, { value: 'Johnson & Wales University Denver', label: 'Johnson & Wales University Denver' }, { value: 'Jones International University', label: 'Jones International University' }, { value: 'Lamar Community College', label: 'Lamar Community College' }, { value: 'Metropolitan State College of Denver', label: 'Metropolitan State College of Denver' }, { value: 'Morgan Community College', label: 'Morgan Community College' }, { value: 'Naropa University', label: 'Naropa University' }, { value: 'National American University Centennial', label: 'National American University Centennial' }, { value: 'National American University Colorado Springs', label: 'National American University Colorado Springs' }, { value: 'National American University Colorado Springs South', label: 'National American University Colorado Springs South' }, { value: 'National American University Denver', label: 'National American University Denver' }, { value: 'Nazarene Bible College', label: 'Nazarene Bible College' }, { value: 'Northeastern Junior College', label: 'Northeastern Junior College' }, { value: 'Otero Junior College', label: 'Otero Junior College' }, { value: 'Pikes Peak Community College', label: 'Pikes Peak Community College' }, { value: 'Platt College Aurora', label: 'Platt College Aurora' }, { value: 'Prince Institute Rocky Mountains', label: 'Prince Institute Rocky Mountains' }, { value: 'Pueblo Community College', label: 'Pueblo Community College' }, { value: 'Red Rocks Community College', label: 'Red Rocks Community College' }, { value: 'Redstone College', label: 'Redstone College' }, { value: 'Regis University', label: 'Regis University' }, { value: 'Remington College Colorado Springs Campus', label: 'Remington College Colorado Springs Campus' }, { value: 'Rocky Mountain College of Art and Design', label: 'Rocky Mountain College of Art and Design' }, { value: 'Trinidad State Junior College', label: 'Trinidad State Junior College' }, { value: 'United States Air Force Academy', label: 'United States Air Force Academy' }, { value: 'University of Colorado Boulder', label: 'University of Colorado Boulder' }, { value: 'University of Colorado Denver', label: 'University of Colorado Denver' }, { value: 'University of Colorado Colorado Springs', label: 'University of Colorado Colorado Springs' }, { value: 'University of Denver', label: 'University of Denver' }, { value: 'University of Northern Colorado', label: 'University of Northern Colorado' }, { value: 'University of Phoenix Colorado Campus', label: 'University of Phoenix Colorado Campus' }, { value: 'University of Phoenix Southern Colorado Campus', label: 'University of Phoenix Southern Colorado Campus' }, { value: 'Western State Colorado University', label: 'Western State Colorado University' }];
            var schoolType = [{ value: 'Public', label: 'Public' }, { value: 'Private', label: 'Private' }, { value: 'Proprietary', label: 'Proprietary' }, { value: 'Foreign Schools', label: 'Foreign Schools'} ];
            var degreeType = [{ value: 'Undergraduate Certificate or Diploma', label: 'Undergraduate Certificate or Diploma' }, { value: 'Associate\'s Degree', label: 'Associate\'s Degree' }, { value: 'Bachelor\'s Degree', label: 'Bachelor\'s Degree' }, { value: 'Post-baccalaureate Certificate', label: 'Post-baccalaureate Certificate' }, { value: 'Master\'s Degree', label: 'Master\'s Degree' }, { value: 'Doctoral Degree', label: 'Doctoral Degree' }, { value: 'First Professional Degree', label: 'First Professional Degree' }, { value: 'Graduate/Professional Certificate', label: 'Graduate/Professional Certificate' }];

            var debtTable = $('#student-debt-table').DataTable({
                processing: true,
                serverSide: true,
                ajax: {
                    url: 'getData.php'
                    // type: 'POST',
                    // dataSrc: 'data'
                },
                scrollY: '600px',
                //deferRender: true,
                pageLength: 50,
                responsive: {
                    details: {
                        type: 'column'
                    }
                },
                dom: '<if<t>lp>',
                columnDefs: [{
                        defaultContent: '-',
                        targets: '_all'
                    },
                    {
                        className: 'control',
                        orderable: false,
                        targets: 0
                    },
                    {
                        targets: 1,
                        visible: false
                    },
                    {
                        targets: 3,
                        render: function(data, type, row, meta) {
                            return data.toLowerCase().toTitleCase();
                        }
                    },
                    {
                        targets: [6, 8],
                        render: function(data, type, row, meta) {
                            if (data !== null) {
                                return Number(data).toLocaleString();
                            }
                        }
                    },
                    {
                        targets: 7,
                        render: function(data, type, row, meta) {
                            //console.log(row);
                            if (data !== null) {
                                return '$' + Number(data).toLocaleString();
                            }
                        }
                    }
                    // {
                    //     targets: [3, 4, 6],
                    //     render: function(data, type, row, meta) {
                    //         if (row[6] == 'MMR' && row[7] < .95) {
                    //             return '<span style="color:#cb181d">' + data + '</span>'
                    //         } else {
                    //             return data
                    //         }
                    //     }
                    // },
                    // {
                    //     targets: [7, 8, 9, 10, 11, 12, 13, 14],
                    //     render: function(data, type, row, meta) {
                    //         if (row[6] == '-') {
                    //             return '-'
                    //         } else if (row[6] == 'MMR' && row[7] < .95) {
                    //             return '<span style="color:#cb181d">' + (data * 100).toFixed(1) + '%' + '</span>'
                    //         } else {
                    //             return (data * 100).toFixed(1) + '%'
                    //         }
                    //     }
                    // },
                    // {
                    //     targets: [ /*8, 9, 10, 11, 12, 13, 14, */ 15],
                    //     render: function(data, type, row, meta) {
                    //         if (row[7] == '-') {
                    //             return '-'
                    //         } else {
                    //             return (data * 100).toFixed(1) + '%'
                    //         }
                    //     }
                    // }
                ],
                order: [
                    [2, 'asc']
                ],
                initComplete: function() {
                    yadcf.init(debtTable, [{
                            column_number: 2,
                            filter_container_id: 'filter-1',
                            filter_default_label: 'Show all',
                            //filter_match_mode: 'regex',
                            data: schoolName
                        },
                        {
                            column_number: 3,
                            filter_container_id: 'filter-2',
                            filter_default_label: 'Show all',
                            data: schoolType
                        },
                        {
                            column_number: 5,
                            filter_container_id: 'filter-3',
                            filter_default_label: 'Show all',
                            data: degreeType
                        }
                        // {
                        //     column_number: 6,
                        //     filter_container_id: 'filter-4',
                        //     filter_default_label: 'Show all',
                        //     data: vaccinations
                        // },
                        // {
                        //     column_number: 17,
                        //     filter_container_id: 'filter-5',
                        //     filter_default_label: 'Show all',
                        //     data: surveyStatus
                        // }
                    ], {
                        cumulative_filtering: true,
                        filter_reset_button_text: 'Reset filter'
                    });

                    // get it started
                    disableDependentFilter(1, true);

                    $('.yadcf-filter-reset-button').on('click', function() {
                        level = parseInt(this.id.split('-')[4]);
                        disableDependentFilter(level, true);
                    });

                    $('.yadcf-filter').on('change', function() {
                        level = parseInt(this.id.slice(-1));
                        inuse = $(this).hasClass('inuse');

                        disableDependentFilter(level + 1, inuse);
                    });
                    // yadcf.exFilterColumn(debtTable, [
                    //     [17, 'Completed']
                    // ], true);
                }
            });
        });
        </script>
        <script>
        $(document).foundation()
        </script>
</body>

</html>